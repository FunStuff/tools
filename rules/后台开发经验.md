# 后台开发原则篇

1. 代码里不要直接去写sql语句, 使用orm，如使用python的同学用sqlalchemy

2. 假设系统一定会出现异常，不想当然，做一些定时任务，对关键点进行检测，如是否有用户已付款却迟迟未发货，检测到这种情况，发送短信通知给开发者, 开发者提前知道，要比用户，或运营同学察觉到后来告诉你好很多

3. 使用nodejs的同学，不要使用console.log, 而且还大量使用，日志大，信息量大的情况下，无法区分出我们想看的日志信息。建议使用[debug](https://github.com/visionmedia/debug), 终端下日志输出有颜色，而且能提供过滤条件，开发者间相互的日志互不干扰

4. 对于单个数据库，只应该有一个应用去直接读取该数据库，然后通过api暴露相应的数据。如果多个应用直接去读取数据库，假设某天数据库需要迁移，如换机房，那其它应用全挂，还都得改代码

5. 代码里，对于关键点，检查函数返回值，若未正常执行，抛出错误日志，甚至发送邮件提醒（保证实时知道异常情况）

6. 使用logrotate来处理压缩日志，别二逼的自己写脚本来删除日志，重点注意nginx的日志，程序的日志如tomcat，nodejs，日志必须处理好，不然因为空间不足，程序无法运行，会很烦人。

7. 公司内部，应对各语言建立相应的utils包，避免代码重复。

8. 公司内部，建立相应的公共服务，如短信，email，可单独抽离出

9. 公司内部，对于项目，应该持续维护wiki